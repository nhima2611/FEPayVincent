{"version":3,"sources":["utils/toastify.ts","components/forms/FETextField.tsx","services/tickets-services/index.ts","components/forms/FEDropDown.tsx","ui-component/extended/Form/InputLabel.tsx","views/tickets/components/CreateOrEditTicket.tsx","views/tickets/edit/index.tsx"],"names":["showToast","type","msg","toast","FETextField","formik","title","disabled","name","rest","spacing","sx","color","fontWeight","fullWidth","value","values","onBlur","handleBlur","error","touched","Boolean","errors","helperText","onChange","handleChange","TicketService","downloadTicket","model","axiosServices","post","ids","responseType","deleteTicket","uploadTicket","file","formData","FormData","append","headers","addDescription","data","addAttachment","createTicket","editTicket","ticket_id","assignTo","BaseApiService","FEDropDown","id","defaultValue","map","key","_","toNumber","BInputLabel","styled","props","shouldForwardProp","prop","theme","horizontal","palette","text","primary","marginBottom","InputLabel","children","others","defaultProps","validationSchema","yup","transaction_type","required","issue_type","sub_issue_type","when","is","then","right_amount","typeError","requested_by","ref_number","transaction_date","transaction_amount","contract_number","wrong_transaction","right_contract_number","right_product_type","requester_national_id","min","max","requester_phone","initialValues","Date","status","description","attachments","BoxStyle","CreateOrEditTicket","onSubmit","onCancel","useFormik","val","useEffect","d","pickBy","keys","includes","setValues","setFieldValue","handleSubmit","isValid","useDropzone","onDrop","files","maxFiles","getRootProps","getInputProps","MainCard","isEmpty","Grid","container","gridSpacing","item","xs","md","transactionType","issueType","subIssueType","requestedBy","Stack","LocalizationProvider","dateAdapter","AdapterDateFns","DatePicker","maxDate","inputFormat","renderInput","TextField","productTypeRightContractNumberType","multiline","rows","placeholder","padding","backgroundColor","cursor","className","direction","justifyContent","alignItems","Input","Typography","index","style","margin","path","size","IconButton","onClick","dd","filter","it","indexFile","onRemoveItem","display","Button","variant","background","marginX","Box","backgroundImage","borderRadius","EditTicketPage","useParams","navi","useNavigate","mEditTicket","useMutation","ticketsServices","onSuccess","res","console","log","toastify","onError","err","message","qTicketDetail","useQuery","getById","keepPreviousData","forEach","element","has","push","omit","moment","format","mutate"],"mappings":"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","file":"static/js/23.bbac60fe.chunk.js","sourcesContent":["import { toast, TypeOptions } from 'react-toastify';\n\nconst showToast = (type?: TypeOptions, msg?: string) => {\n    toast(msg, {\n        type\n    });\n};\n\nexport default { showToast };\n","import { InputLabel, Stack, TextField } from '@mui/material';\n\nconst FETextField = ({ formik, title, disabled = false, name = '', ...rest }) => {\n    return (\n        <Stack spacing={1}>\n            <InputLabel sx={{ color: disabled ? '#CCCCCC' : '#4C4C4C', fontWeight: 700 }}>{title}</InputLabel>\n            <TextField\n                fullWidth\n                name={name}\n                value={formik.values[name]}\n                onBlur={formik.handleBlur}\n                error={formik.touched[name] && Boolean(formik.errors[name])}\n                helperText={formik.touched[name] && formik.errors[name]}\n                onChange={formik.handleChange}\n                disabled={disabled}\n                {...rest}\n            />\n        </Stack>\n    );\n};\n\nexport default FETextField;\n","import { BaseApiService } from 'services/core/baseApi.service';\nimport { AddAttachmentModel, AddDescriptionModel, CreateTicketModel, AssignToModel, EditTicketModel } from 'types/ticket';\nimport axiosServices from 'utils/axios';\n\nclass TicketService extends BaseApiService {\n    constructor() {\n        super('/v1/tickets');\n    }\n\n    downloadTicket = (model?: number[]) => {\n        return axiosServices.post(`/v1/tickets/exportExcel`, { ids: model }, { responseType: 'blob' });\n    };\n\n    deleteTicket = (model?: number[]) => {\n        return axiosServices.post(`/v1/tickets/deleteTickets`, { ids: model });\n    };\n\n    uploadTicket = (file?: any) => {\n        const formData = new FormData();\n        formData.append('file', file);\n\n        return axiosServices.post('/v1/tickets/import', formData, { headers: { 'Content-Type': 'multipart/form-data' } });\n    };\n\n    addDescription = (data: AddDescriptionModel) => {\n        return axiosServices.post('v1/tickets/descriptions', data);\n    };\n\n    addAttachment = (data: AddAttachmentModel[]) => {\n        return axiosServices.post('v1/tickets/attachments', data, { headers: { 'Content-Type': 'multipart/form-data' } });\n    };\n\n    createTicket = (data: CreateTicketModel) => {\n        return axiosServices.post('v1/tickets', data, { headers: { 'Content-Type': 'multipart/form-data' } });\n    };\n\n    editTicket = (data: EditTicketModel, ticket_id?: string) => {\n        return axiosServices.post(`v1/tickets/draft/${ticket_id}`, data, { headers: { 'Content-Type': 'multipart/form-data' } });\n    };\n\n    assignTo = (data: AssignToModel) => {\n        return axiosServices.post('v1/tickets/assigneesandsupporters', data);\n    };\n}\n\nexport default new TicketService();\n","import { FormHelperText, InputLabel, MenuItem, Select, Stack } from '@mui/material';\nimport { map } from 'lodash';\n\ninterface Props {\n    formik: any;\n    title: string;\n    data?: any;\n    name?: string;\n    disabled?: boolean;\n}\nconst FEDropDown = ({ formik, title = '', data = {}, name = '', disabled }: Props) => {\n    return (\n        <Stack spacing={1}>\n            <InputLabel sx={{ color: disabled ? '#CCCCCC' : '#4C4C4C', fontWeight: 700 }}>{title}</InputLabel>\n            <Select\n                id={name}\n                name={name}\n                defaultValue={formik.values[name]}\n                value={formik.values[name] === 0 ? '' : formik.values[name]}\n                onChange={formik.handleChange}\n                disabled={disabled}\n            >\n                {map(data, (key, value) => (\n                    <MenuItem key={value} value={_.toNumber(value)}>\n                        {key}\n                    </MenuItem>\n                ))}\n            </Select>\n            {formik.errors[name] && <FormHelperText error>{formik.errors[name]}</FormHelperText>}\n        </Stack>\n    );\n};\n\nexport default FEDropDown;\n","import { experimentalStyled as styled } from '@mui/material/styles';\nimport { InputLabel as MuiInputLabel, InputLabelProps } from '@mui/material';\n\nconst BInputLabel = styled((props: MUIInputLabelProps) => <MuiInputLabel {...props} />, {\n    shouldForwardProp: (prop) => prop !== 'horizontal'\n})(({ theme, horizontal }) => ({\n    color: theme.palette.text.primary,\n    fontWeight: 500,\n    marginBottom: horizontal ? 0 : 8\n}));\n\ninterface MUIInputLabelProps extends InputLabelProps {\n    horizontal?: boolean;\n}\n\nconst InputLabel = ({ children, horizontal, ...others }: MUIInputLabelProps) => (\n    <BInputLabel horizontal={horizontal} {...others}>\n        {children}\n    </BInputLabel>\n);\n\nInputLabel.defaultProps = {\n    horizontal: false\n};\n\nexport default InputLabel;\n","import { DatePicker, LocalizationProvider } from '@mui/lab';\n// material-ui\nimport AdapterDateFns from '@mui/lab/AdapterDateFns';\nimport { Box, Button, Grid, IconButton, Stack, styled, TextField, Typography } from '@mui/material';\nimport { IconUpload, IconX } from '@tabler/icons';\nimport { issueType, productTypeRightContractNumberType, requestedBy, subIssueType, transactionType } from 'constants/tickets';\nimport { useFormik } from 'formik';\nimport React, { useEffect } from 'react';\nimport { useDropzone } from 'react-dropzone';\n// project imports\nimport { gridSpacing } from 'store/constant';\nimport MainCard from 'ui-component/cards/MainCard';\nimport InputLabel from 'ui-component/extended/Form/InputLabel';\n// third-party\nimport * as yup from 'yup';\nimport FEDropDown from 'components/forms/FEDropDown';\nimport FETextField from 'components/forms/FETextField';\n\n// yup validation-schema\nconst validationSchema = yup.object({\n    transaction_type: yup.string().required('Transaction Type is Required'),\n    issue_type: yup.string().required('Issue Type is Required'),\n    sub_issue_type: yup.number().when('issue_type', { is: 3, then: yup.number().required('Sub Issue Type is Required') }),\n    right_amount: yup.string().when('issue_type', {\n        is: 2,\n        then: yup.number().typeError('Right Amount must be a number').required('Right Amount Number is Required')\n    }),\n    requested_by: yup.string().required('Requested By is Required'),\n    ref_number: yup.string().required('Ref Number is Required'),\n    transaction_date: yup.string().required('Transaction Date is Required'),\n    transaction_amount: yup.number().typeError('Transaction Amount must be a number').required('Transaction Amount is Required'),\n    contract_number: yup.string().required('Contract Number is Required'),\n    wrong_transaction: yup.string().required('Wrong Transaction is Required'),\n    right_contract_number: yup.string().required('Right Contract Number is Required'),\n    right_product_type: yup.number().when('issue_type', { is: 3, then: yup.number().required('Right Product Type is Required') }),\n    requester_national_id: yup\n        .string()\n        .min(12, \"Requested's Nation ID should be of minimum 12 characters\")\n        .max(12, \"Requested's Nation ID should be of minimum 12 characters\")\n        .required(\"Requested's Nation ID is Required\")\n        .typeError(\"Requested's Nation ID must be a number\"),\n    requester_phone: yup\n        .string()\n        .min(10, 'Phone number should be of minimum 10 characters')\n        .max(10, 'Phone number should be of minimum 10 characters')\n        .required(\"Requester's Phone Number is Required\")\n        .typeError(\"Requester's Phone Number must be a number\")\n});\n\n// ==============================|| CREATE TICKET ||============================== //\n\ninterface Props {\n    onSubmit: (values: any) => void;\n    onCancel?: () => void;\n    data?: any;\n}\n\nexport const initialValues = {\n    transaction_type: 1,\n    issue_type: 1,\n    sub_issue_type: 0,\n    requested_by: 1,\n    ref_number: '',\n    transaction_date: new Date(),\n    transaction_amount: '',\n    contract_number: '',\n    wrong_transaction: '',\n    right_contract_number: '',\n    right_amount: '',\n    right_product_type: 0,\n    requester_national_id: '',\n    requester_phone: '',\n    status: null,\n    description: '',\n    attachments: []\n};\n\nconst CreateOrEditTicket = ({ onSubmit, onCancel, data }: Props) => {\n    const formik = useFormik({\n        initialValues,\n        validationSchema,\n        onSubmit: (val) => onSubmit(val)\n    });\n\n    useEffect(() => {\n        if (data) {\n            const d: any = _.pickBy(data, (key, value) => _.keys(initialValues).includes(value));\n            formik.setValues(d);\n        }\n    }, [data]);\n\n    useEffect(() => {\n        if (formik.values.issue_type !== 3) {\n            formik.setFieldValue('sub_issue_type', 0);\n            formik.setFieldValue('right_product_type', 0);\n        }\n        if (formik.values.issue_type !== 2) {\n            formik.setFieldValue('right_amount', '');\n        }\n    }, [formik.values.issue_type]);\n\n    const handleSubmit = ({ status }) => {\n        if (!formik.isValid) return;\n        formik.setFieldValue('status', status);\n    };\n\n    const onDropFile = (files: any) => {\n        formik.setFieldValue('attachments', [...files, ...formik.values.attachments]);\n    };\n\n    const onRemoveItem = (index) => {\n        const dd = formik.values.attachments.filter((it: any, indexFile: number) => indexFile !== index);\n        formik.setFieldValue('attachments', dd);\n    };\n\n    const { getRootProps, getInputProps } = useDropzone({ onDrop: onDropFile, maxFiles: 5 });\n\n    return (\n        <MainCard title={_.isEmpty(data) ? 'Create Ticket' : 'Edit Ticket'}>\n            <form onSubmit={formik.handleSubmit}>\n                <Grid container spacing={gridSpacing}>\n                    <Grid item xs={12} md={3}>\n                        <FEDropDown name=\"transaction_type\" formik={formik} title=\"Transaction Type\" data={transactionType} />\n                    </Grid>\n                    <Grid item xs={12} md={3}>\n                        <FEDropDown name=\"issue_type\" formik={formik} title=\"Issue Type\" data={issueType} />\n                    </Grid>\n                    <Grid item xs={12} md={3}>\n                        <FEDropDown\n                            disabled={formik.values.issue_type !== 3}\n                            name=\"sub_issue_type\"\n                            formik={formik}\n                            title=\"Sub Issue Type\"\n                            data={subIssueType}\n                        />\n                    </Grid>\n                    <Grid item xs={12} md={3}>\n                        <FEDropDown name=\"requested_by\" formik={formik} title=\"Requested By\" data={requestedBy} />\n                    </Grid>\n\n                    <Grid item xs={12} md={3}>\n                        <FETextField formik={formik} title=\"REF Number\" name=\"ref_number\" />\n                    </Grid>\n                    <Grid item xs={12} md={3}>\n                        <Stack>\n                            <InputLabel sx={{ color: '#4C4C4C', fontWeight: 'bold' }}>Transaction Date</InputLabel>\n                            <LocalizationProvider dateAdapter={AdapterDateFns}>\n                                <DatePicker\n                                    maxDate={new Date()}\n                                    inputFormat=\"dd/MM/yyyy\"\n                                    renderInput={(props) => <TextField fullWidth {...props} />}\n                                    value={formik.values.transaction_date}\n                                    onChange={(val) => formik.setFieldValue('transaction_date', val)}\n                                />\n                            </LocalizationProvider>\n                        </Stack>\n                    </Grid>\n                    <Grid item xs={12} md={3}>\n                        <FETextField formik={formik} title=\"Transaction Amount\" name=\"transaction_amount\" />\n                    </Grid>\n                    <Grid item xs={12} md={3}>\n                        <FETextField formik={formik} title=\"Contract Number\" name=\"contract_number\" />\n                    </Grid>\n\n                    <Grid item xs={12} md={3}>\n                        <FETextField formik={formik} title=\"Product Type of Wrong Transaction\" name=\"wrong_transaction\" />\n                    </Grid>\n                    <Grid item xs={12} md={3}>\n                        <FETextField formik={formik} title=\"Right Contract Number\" name=\"right_contract_number\" />\n                    </Grid>\n                    <Grid item xs={12} md={3}>\n                        <FETextField formik={formik} title=\"Right Amount\" name=\"right_amount\" disabled={formik.values.issue_type !== 2} />\n                    </Grid>\n                    <Grid item xs={12} md={3}>\n                        <FEDropDown\n                            disabled={formik.values.issue_type !== 3}\n                            name=\"right_product_type\"\n                            formik={formik}\n                            title=\"Product Type of Right Contract #\"\n                            data={productTypeRightContractNumberType}\n                        />\n                    </Grid>\n\n                    <Grid item xs={12} md={3}>\n                        <FETextField formik={formik} title=\"Requester's National ID\" name=\"requester_national_id\" />\n                    </Grid>\n                    <Grid item xs={12} md={3}>\n                        <FETextField formik={formik} title=\"Requester's Phone Number\" name=\"requester_phone\" />\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <FETextField\n                            formik={formik}\n                            title=\"Description\"\n                            multiline\n                            rows={4}\n                            placeholder=\"Enter Description\"\n                            name=\"description\"\n                        />\n                    </Grid>\n\n                    <Grid item xs={12}>\n                        <BoxStyle\n                            sx={{ padding: 3, backgroundColor: 'rgba(39, 174, 96, .15)', cursor: 'pointer' }}\n                            {...getRootProps({ className: 'dropzone' })}\n                        >\n                            <Stack direction=\"row\" justifyContent=\"center\" alignItems=\"center\" spacing={1}>\n                                <Input id=\"contained-button-file\" {...getInputProps()} />\n                                <IconUpload />\n                                <Typography>Browse or Drop file here</Typography>\n                            </Stack>\n                        </BoxStyle>\n                        {formik.values.attachments?.map((file: any, index: number) => (\n                            <Stack key={index} direction=\"row\" alignItems=\"center\">\n                                <li style={{ margin: '8px 4px' }}>\n                                    {file.path || file.name} - {file.size} bytes\n                                </li>\n                                <IconButton onClick={() => onRemoveItem(index)}>\n                                    <IconX />\n                                </IconButton>\n                            </Stack>\n                        ))}\n                    </Grid>\n\n                    <Grid item sx={{ display: 'flex', justifyContent: 'flex-end' }} xs={12}>\n                        <Button variant=\"contained\" sx={{ background: '#999999' }} onClick={onCancel}>\n                            Cancel\n                        </Button>\n                        <Button\n                            variant=\"contained\"\n                            sx={{ marginX: 1, background: '#2F80ED' }}\n                            type=\"submit\"\n                            onClick={() => handleSubmit({ status: 0 })}\n                        >\n                            Save as Draft\n                        </Button>\n                        <Button\n                            sx={{ background: '#27AE60' }}\n                            variant=\"contained\"\n                            type=\"submit\"\n                            onClick={() => handleSubmit({ status: 1 })}\n                        >\n                            Submit\n                        </Button>\n                    </Grid>\n                </Grid>\n            </form>\n        </MainCard>\n    );\n};\n\nexport default CreateOrEditTicket;\n\nconst BoxStyle = styled(Box)({\n    backgroundImage: `url(\n        \"data:image/svg+xml,%3csvg width='100%25' height='100%25' xmlns='http://www.w3.org/2000/svg'%3e%3crect width='100%25' height='100%25' fill='none' rx='14' ry='14' stroke='%23CCCCCCFF' stroke-width='4' stroke-dasharray='6%2c 14' stroke-dashoffset='0' stroke-linecap='round'/%3e%3c/svg%3e\"\n        )`,\n    borderRadius: 14\n});\n\nconst Input = styled('input')({\n    display: 'none'\n});\n","import { useMutation, useQuery } from 'react-query';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport ticketsServices from 'services/tickets-services';\nimport { CreateTicketModel } from 'types/ticket';\nimport toastify from 'utils/toastify';\nimport CreateOrEditTicket from '../components/CreateOrEditTicket';\n\nconst EditTicketPage = () => {\n    const { ticket_id } = useParams();\n    const navi = useNavigate();\n\n    const mEditTicket = useMutation((data: CreateTicketModel) => ticketsServices.editTicket(data, ticket_id), {\n        onSuccess: (res) => {\n            console.log(res);\n            toastify.showToast('success', 'Upload Success!');\n            navi(-1);\n        },\n        onError: (err: any) => {\n            toastify.showToast('error', err.message);\n        }\n    });\n\n    const onSubmit = (values: any) => {\n        const { attachments } = values;\n        const formData: any = new FormData();\n\n        const dd: any = [];\n\n        attachments.forEach((element: any) => {\n            if (_.has(element, 'id')) {\n                dd.push(element.id);\n            } else {\n                formData.append(`attachments[]`, element);\n            }\n        });\n        formData.append(`attachmentIds[]`, dd);\n\n        _.forEach(_.omit(values, 'attachments'), (item, key) => {\n            return formData.append(`${key}`, key === 'transaction_date' ? moment(item).format('DD/MM/YYYY') : item);\n        });\n\n        // BE require\n        formData.append(`action`, 0);\n\n        mEditTicket.mutate(formData);\n    };\n\n    const qTicketDetail = useQuery(`qTicketDetail_${ticket_id}`, () => ticketsServices.getById(ticket_id), { keepPreviousData: false });\n\n    return <CreateOrEditTicket onSubmit={onSubmit} onCancel={() => navi(-1)} data={qTicketDetail.data?.data?.data} />;\n};\n\nexport default EditTicketPage;\n"],"sourceRoot":""}