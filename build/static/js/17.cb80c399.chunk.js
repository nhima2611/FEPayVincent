(this["webpackJsonpberry-material-react-ts"]=this["webpackJsonpberry-material-react-ts"]||[]).push([[17],{425:function(e,t,n){"use strict";var a=n(6),r=n(7),o=n(3),i=n.n(o),c=n(455),s=n.n(c),l=function(){var e=Object(a.a)(i.a.mark((function e(t){var n,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",s.a.fire({backdrop:!0,title:t.title||"Are you sure?",text:"You won't be able to revert this!",icon:"info",showCancelButton:!0,confirmButtonText:null!==(n=t.confirmButtonText)&&void 0!==n?n:"Ok",denyButtonText:null!==(a=t.denyButtonText)&&void 0!==a?a:"Cancel"}).then((function(e){var n,a,r;return e.isConfirmed?null===(a=t.onConfirm)||void 0===a?void 0:a.call(t):e.isDenied?null===(r=t.onDenied)||void 0===r?void 0:r.call(t):null===(n=t.onDenied)||void 0===n?void 0:n.call(t)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();t.a={toast:function(e,t,n){var a="#ffffff";switch(e){case"success":a="#5cb85c";break;case"error":a="#d9534f"}return s.a.fire({icon:e,title:t,toast:!0,position:n||"bottom-end",background:a,color:"white",showConfirmButton:!1,timer:3e3,timerProgressBar:!0,didOpen:function(e){e.addEventListener("mouseenter",s.a.stopTimer),e.addEventListener("mouseleave",s.a.resumeTimer)}})},showConfirm:l,showDeleteConfirm:function(e){return s.a.fire({title:"Are you sure?",text:"You won't be able to revert this!",icon:"warning",showCancelButton:!0,confirmButtonColor:"#3085d6",cancelButtonColor:"#d33",confirmButtonText:"Yes, delete it!"}).then((function(t){var n,a,r;return t.isConfirmed?null===(a=e.onConfirm)||void 0===a?void 0:a.call(e):t.isDenied?null===(r=e.onDenied)||void 0===r?void 0:r.call(e):null===(n=e.onDenied)||void 0===n?void 0:n.call(e)}))},showError:function(e){return s.a.fire(Object(r.a)(Object(r.a)({},e),{},{icon:"error"}))},showSuccess:function(e){return s.a.fire(Object(r.a)(Object(r.a)({},e),{},{icon:"success"}))},showInfo:function(e){return s.a.fire(Object(r.a)(Object(r.a)({},e),{},{icon:"info"}))},showWarning:function(e){return s.a.fire(Object(r.a)(Object(r.a)({},e),{},{icon:"warning"}))}}},428:function(e,t,n){"use strict";var a=n(7),r=n(68),o=n(372),i=n(784),c=n(487),s=n(1),l=["formik","title","disabled","name"];t.a=function(e){var t=e.formik,n=e.title,d=e.disabled,u=void 0!==d&&d,b=e.name,f=void 0===b?"":b,j=Object(r.a)(e,l);return Object(s.jsxs)(o.a,{spacing:1,children:[Object(s.jsx)(i.a,{sx:{color:u?"#CCCCCC":"#4C4C4C",fontWeight:700},children:n}),Object(s.jsx)(c.a,Object(a.a)({fullWidth:!0,name:f,value:t.values[f],onBlur:t.handleBlur,error:t.touched[f]&&Boolean(t.errors[f]),helperText:t.touched[f]&&t.errors[f],onChange:t.handleChange,disabled:u},j))]})}},459:function(e,t,n){"use strict";var a=n(21),r=n(20),o=n(126),i=n(127),c=function(e){Object(o.a)(n,e);var t=Object(i.a)(n);function n(){return Object(r.a)(this,n),t.call(this,"/v1/partners")}return Object(a.a)(n)}(n(179).a);t.a=new c},487:function(e,t,n){"use strict";var a=n(2),r=n(8),o=n(0),i=n(10),c=n(160),s=n(319),l=n(9),d=n(14),u=n(768),b=n(769),f=n(397),j=n(784),v=n(796),m=n(797),h=n(782),p=n(92),g=n(105);function O(e){return Object(p.a)("MuiTextField",e)}Object(g.a)("MuiTextField",["root"]);var x=n(1),S=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],w={standard:u.a,filled:b.a,outlined:f.a},k=Object(l.a)(v.a,{name:"MuiTextField",slot:"Root",overridesResolver:function(e,t){return t.root}})({}),P=o.forwardRef((function(e,t){var n=Object(d.a)({props:e,name:"MuiTextField"}),o=n.autoComplete,l=n.autoFocus,u=void 0!==l&&l,b=n.children,f=n.className,v=n.color,p=void 0===v?"primary":v,g=n.defaultValue,P=n.disabled,y=void 0!==P&&P,C=n.error,I=void 0!==C&&C,_=n.FormHelperTextProps,L=n.fullWidth,B=void 0!==L&&L,F=n.helperText,E=n.id,R=n.InputLabelProps,M=n.inputProps,q=n.InputProps,D=n.inputRef,N=n.label,T=n.maxRows,W=n.minRows,V=n.multiline,G=void 0!==V&&V,A=n.name,z=n.onBlur,H=n.onChange,Q=n.onFocus,U=n.placeholder,Y=n.required,J=void 0!==Y&&Y,K=n.rows,X=n.select,$=void 0!==X&&X,Z=n.SelectProps,ee=n.type,te=n.value,ne=n.variant,ae=void 0===ne?"outlined":ne,re=Object(r.a)(n,S),oe=Object(a.a)({},n,{autoFocus:u,color:p,disabled:y,error:I,fullWidth:B,multiline:G,required:J,select:$,variant:ae}),ie=function(e){var t=e.classes;return Object(c.a)({root:["root"]},O,t)}(oe);var ce={};"outlined"===ae&&(R&&"undefined"!==typeof R.shrink&&(ce.notched=R.shrink),ce.label=N),$&&(Z&&Z.native||(ce.id=void 0),ce["aria-describedby"]=void 0);var se=Object(s.a)(E),le=F&&se?"".concat(se,"-helper-text"):void 0,de=N&&se?"".concat(se,"-label"):void 0,ue=w[ae],be=Object(x.jsx)(ue,Object(a.a)({"aria-describedby":le,autoComplete:o,autoFocus:u,defaultValue:g,fullWidth:B,multiline:G,name:A,rows:K,maxRows:T,minRows:W,type:ee,value:te,id:se,inputRef:D,onBlur:z,onChange:H,onFocus:Q,placeholder:U,inputProps:M},ce,q));return Object(x.jsxs)(k,Object(a.a)({className:Object(i.a)(ie.root,f),disabled:y,error:I,fullWidth:B,ref:t,required:J,color:p,variant:ae,ownerState:oe},re,{children:[null!=N&&""!==N&&Object(x.jsx)(j.a,Object(a.a)({htmlFor:se,id:de},R,{children:N})),$?Object(x.jsx)(h.a,Object(a.a)({"aria-describedby":le,id:se,labelId:de,value:te,input:be},Z,{children:b})):be,F&&Object(x.jsx)(m.a,Object(a.a)({id:le},_,{children:F}))]}))}));t.a=P},561:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(562),r=n.n(a),o=n(563),i=n.n(o),c=n(613),s=n(392),l=n(36),d=(n(0),n(27)),u=n(125),b=n(1);function f(e){var t=e.onBack,n=e.loading,a=Object(l.a)(),o=Object(d.f)();return Object(b.jsxs)(u.a,{boxShadow:!0,shadow:"0px 4px 4px rgba(0, 0, 0, 0.05)",sx:{boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.05)",border:"1px solid #E5E5E5 !important",mb:3},contentSX:{padding:"8px !important"},children:[Object(b.jsx)(s.a,{disableElevation:!0,type:"button",variant:"contained",startIcon:Object(b.jsx)(r.a,{}),onClick:function(){t?null===t||void 0===t||t():o(-1)},sx:{mr:2,bgcolor:a.palette.grey.A200,color:"#000"},children:"Back"}),Object(b.jsx)(c.a,{disableElevation:!0,disabled:n,type:"submit",variant:"contained",color:"primary",startIcon:Object(b.jsx)(i.a,{}),loading:n,loadingPosition:"start",children:"Save"})]})}},562:function(e,t,n){"use strict";var a=n(78);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(93)),o=n(1),i=(0,r.default)((0,o.jsx)("path",{d:"M21 11H6.83l3.58-3.59L9 6l-6 6 6 6 1.41-1.41L6.83 13H21z"}),"KeyboardBackspace");t.default=i},563:function(e,t,n){"use strict";var a=n(78);Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r=a(n(93)),o=n(1),i=(0,r.default)((0,o.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");t.default=i},569:function(e,t,n){"use strict";var a=n(7),r=n(784),o=n(796),i=n(782),c=n(794),s=n(797),l=n(36),d=n(0),u=n(4);function b(e,t,n){void 0===t&&(t=[]),void 0===n&&(n={loading:!1});var a=Object(d.useRef)(0),r=function(){var e=Object(d.useRef)(!1),t=Object(d.useCallback)((function(){return e.current}),[]);return Object(d.useEffect)((function(){return e.current=!0,function(){e.current=!1}}),[]),t}(),o=Object(d.useState)(n),i=o[0],c=o[1],s=Object(d.useCallback)((function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var o=++a.current;return i.loading||c((function(e){return Object(u.a)(Object(u.a)({},e),{loading:!0})})),e.apply(void 0,t).then((function(e){return r()&&o===a.current&&c({value:e,loading:!1}),e}),(function(e){return r()&&o===a.current&&c({error:e,loading:!1}),e}))}),t);return[i,s]}var f=n(12),j=n(1);t.a=function(e){var t=e.formik,n=t.errors,u=(t.handleBlur,t.handleChange),v=t.touched,m=(t.values,t.setValues,e.label),h=e.name,p=e.required,g=e.selectProps,O=e.dataSource,x=e.api,S=e.transformFn,w=e.renderItem,k=e.handleSelect,P=Object(l.a)(),y=function(e,t){void 0===t&&(t=[]);var n=b(e,t,{loading:!0}),a=n[0],r=n[1];return Object(d.useEffect)((function(){r()}),[r]),a}((function(){return x&&!_.some(O)?f.a.get(x).then((function(e){return _.isFunction(S)?_.map(e.data,S):e.data})):Promise.resolve(O)}),[x,O]),C=y.value;y.loading;return Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(r.a,{sx:{color:null!==g&&void 0!==g&&g.disabled?"#CCCCCC":"#4C4C4C",fontWeight:"700"},required:p,htmlFor:h,children:m}),Object(j.jsxs)(o.a,{fullWidth:!0,error:Boolean(v["".concat(h)]&&n["".concat(h)]),sx:Object(a.a)({},P.typography.customInput),children:[Object(j.jsxs)(i.a,Object(a.a)(Object(a.a)({},Object(a.a)(Object(a.a)({},g),{},{onSelectValue:{}})),{},{value:null===g||void 0===g?void 0:g.value,name:h,onChange:function(e){return k?null===k||void 0===k?void 0:k(_.find(C,["id",e.target.value])):u(e)},onBlur:function(e){return k?null===k||void 0===k?void 0:k(_.find(C,["id",e.target.value])):u(e)},defaultValue:"",children:[!(null!==g&&void 0!==g&&g.notAllowSelectNull)&&Object(j.jsx)(c.a,{value:null,children:Object(j.jsx)("em",{children:"None"})}),_.isFunction(w)?_.map(C,w):_.map(C,(function(e,t){return Object(j.jsx)(c.a,{value:e.id,children:e.name},t)}))]})),v["".concat(h)]&&n["".concat(h)]&&Object(j.jsx)(s.a,{error:!0,id:"".concat(h,"--error"),children:n["".concat(h)]})]})]})}},613:function(e,t,n){"use strict";var a=n(5),r=n(8),o=n(2),i=n(0),c=n(11),s=n(180),l=n(160),d=n(9),u=n(14),b=n(392),f=n(64),j=n(10),v=n(73),m=n(92),h=n(105);function p(e){return Object(m.a)("MuiCircularProgress",e)}Object(h.a)("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);var g,O,x,S,w,k,P,y,C=n(1),I=["className","color","disableShrink","size","style","thickness","value","variant"],_=44,L=Object(v.c)(w||(w=g||(g=Object(f.a)(["\n  0% {\n    transform: rotate(0deg);\n  }\n\n  100% {\n    transform: rotate(360deg);\n  }\n"])))),B=Object(v.c)(k||(k=O||(O=Object(f.a)(["\n  0% {\n    stroke-dasharray: 1px, 200px;\n    stroke-dashoffset: 0;\n  }\n\n  50% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -15px;\n  }\n\n  100% {\n    stroke-dasharray: 100px, 200px;\n    stroke-dashoffset: -125px;\n  }\n"])))),F=Object(d.a)("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:function(e,t){var n=e.ownerState;return[t.root,t[n.variant],t["color".concat(Object(c.a)(n.color))]]}})((function(e){var t=e.ownerState,n=e.theme;return Object(o.a)({display:"inline-block"},"determinate"===t.variant&&{transition:n.transitions.create("transform")},"inherit"!==t.color&&{color:n.palette[t.color].main})}),(function(e){return"indeterminate"===e.ownerState.variant&&Object(v.b)(P||(P=x||(x=Object(f.a)(["\n      animation: "," 1.4s linear infinite;\n    "]))),L)})),E=Object(d.a)("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:function(e,t){return t.svg}})({display:"block"}),R=Object(d.a)("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:function(e,t){var n=e.ownerState;return[t.circle,t["circle".concat(Object(c.a)(n.variant))],n.disableShrink&&t.circleDisableShrink]}})((function(e){var t=e.ownerState,n=e.theme;return Object(o.a)({stroke:"currentColor"},"determinate"===t.variant&&{transition:n.transitions.create("stroke-dashoffset")},"indeterminate"===t.variant&&{strokeDasharray:"80px, 200px",strokeDashoffset:0})}),(function(e){var t=e.ownerState;return"indeterminate"===t.variant&&!t.disableShrink&&Object(v.b)(y||(y=S||(S=Object(f.a)(["\n      animation: "," 1.4s ease-in-out infinite;\n    "]))),B)})),M=i.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiCircularProgress"}),a=n.className,i=n.color,s=void 0===i?"primary":i,d=n.disableShrink,b=void 0!==d&&d,f=n.size,v=void 0===f?40:f,m=n.style,h=n.thickness,g=void 0===h?3.6:h,O=n.value,x=void 0===O?0:O,S=n.variant,w=void 0===S?"indeterminate":S,k=Object(r.a)(n,I),P=Object(o.a)({},n,{color:s,disableShrink:b,size:v,thickness:g,value:x,variant:w}),y=function(e){var t=e.classes,n=e.variant,a=e.color,r=e.disableShrink,o={root:["root",n,"color".concat(Object(c.a)(a))],svg:["svg"],circle:["circle","circle".concat(Object(c.a)(n)),r&&"circleDisableShrink"]};return Object(l.a)(o,p,t)}(P),L={},B={},M={};if("determinate"===w){var q=2*Math.PI*((_-g)/2);L.strokeDasharray=q.toFixed(3),M["aria-valuenow"]=Math.round(x),L.strokeDashoffset="".concat(((100-x)/100*q).toFixed(3),"px"),B.transform="rotate(-90deg)"}return Object(C.jsx)(F,Object(o.a)({className:Object(j.a)(y.root,a),style:Object(o.a)({width:v,height:v},B,m),ownerState:P,ref:t,role:"progressbar"},M,k,{children:Object(C.jsx)(E,{className:y.svg,ownerState:P,viewBox:"".concat(22," ").concat(22," ").concat(_," ").concat(_),children:Object(C.jsx)(R,{className:y.circle,style:L,ownerState:P,cx:_,cy:_,r:(_-g)/2,fill:"none",strokeWidth:g})})}))}));function q(e){return Object(m.a)("MuiLoadingButton",e)}var D=Object(h.a)("MuiLoadingButton",["root","loading","loadingIndicator","loadingIndicatorCenter","loadingIndicatorStart","loadingIndicatorEnd","endIconLoadingEnd","startIconLoadingStart"]),N=["children","disabled","id","loading","loadingIndicator","loadingPosition","variant"],T=Object(d.a)(b.a,{shouldForwardProp:function(e){return function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e&&"classes"!==e}(e)||"classes"===e},name:"MuiLoadingButton",slot:"Root",overridesResolver:function(e,t){return[t.root,t.startIconLoadingStart&&Object(a.a)({},"& .".concat(D.startIconLoadingStart),t.startIconLoadingStart),t.endIconLoadingEnd&&Object(a.a)({},"& .".concat(D.endIconLoadingEnd),t.endIconLoadingEnd)]}})((function(e){var t=e.ownerState,n=e.theme;return Object(o.a)(Object(a.a)({},"& .".concat(D.startIconLoadingStart,", & .").concat(D.endIconLoadingEnd),{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0}),"center"===t.loadingPosition&&Object(a.a)({transition:n.transitions.create(["background-color","box-shadow","border-color"],{duration:n.transitions.duration.short})},"&.".concat(D.loading),{color:"transparent"}),"start"===t.loadingPosition&&t.fullWidth&&Object(a.a)({},"& .".concat(D.startIconLoadingStart,", & .").concat(D.endIconLoadingEnd),{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0,marginRight:-8}),"end"===t.loadingPosition&&t.fullWidth&&Object(a.a)({},"& .".concat(D.startIconLoadingStart,", & .").concat(D.endIconLoadingEnd),{transition:n.transitions.create(["opacity"],{duration:n.transitions.duration.short}),opacity:0,marginLeft:-8}))})),W=Object(d.a)("div",{name:"MuiLoadingButton",slot:"LoadingIndicator",overridesResolver:function(e,t){var n=e.ownerState;return[t.loadingIndicator,t["loadingIndicator".concat(Object(c.a)(n.loadingPosition))]]}})((function(e){var t=e.theme,n=e.ownerState;return Object(o.a)({position:"absolute",visibility:"visible",display:"flex"},"start"===n.loadingPosition&&("outlined"===n.variant||"contained"===n.variant)&&{left:14},"start"===n.loadingPosition&&"text"===n.variant&&{left:6},"center"===n.loadingPosition&&{left:"50%",transform:"translate(-50%)",color:t.palette.action.disabled},"end"===n.loadingPosition&&("outlined"===n.variant||"contained"===n.variant)&&{right:14},"end"===n.loadingPosition&&"text"===n.variant&&{right:6},"start"===n.loadingPosition&&n.fullWidth&&{position:"relative",left:-10},"end"===n.loadingPosition&&n.fullWidth&&{position:"relative",right:-10})})),V=i.forwardRef((function(e,t){var n=Object(u.a)({props:e,name:"MuiLoadingButton"}),a=n.children,d=n.disabled,b=void 0!==d&&d,f=n.id,j=n.loading,v=void 0!==j&&j,m=n.loadingIndicator,h=n.loadingPosition,p=void 0===h?"center":h,g=n.variant,O=void 0===g?"text":g,x=Object(r.a)(n,N),S=Object(s.a)(f),w=null!=m?m:Object(C.jsx)(M,{"aria-labelledby":S,color:"inherit",size:16}),k=Object(o.a)({},n,{disabled:b,loading:v,loadingIndicator:w,loadingPosition:p,variant:O}),P=function(e){var t=e.loading,n=e.loadingPosition,a=e.classes,r={root:["root",t&&"loading"],startIcon:[t&&"startIconLoading".concat(Object(c.a)(n))],endIcon:[t&&"endIconLoading".concat(Object(c.a)(n))],loadingIndicator:["loadingIndicator",t&&"loadingIndicator".concat(Object(c.a)(n))]},i=Object(l.a)(r,q,a);return Object(o.a)({},a,i)}(k);return Object(C.jsx)(T,Object(o.a)({disabled:b||v,id:S,ref:t},x,{variant:O,classes:P,ownerState:k,children:"end"===k.loadingPosition?Object(C.jsxs)(i.Fragment,{children:[a,v&&Object(C.jsx)(W,{className:P.loadingIndicator,ownerState:k,children:w})]}):Object(C.jsxs)(i.Fragment,{children:[v&&Object(C.jsx)(W,{className:P.loadingIndicator,ownerState:k,children:w}),a]})}))}));t.a=V},785:function(e,t,n){"use strict";n.r(t);var a=n(6),r=n(13),o=n(3),i=n.n(o),c=n(135),s=n(0),l=n.n(s),d=n(108),u=n(27),b=n(20),f=n(21),j=n(126),v=n(127),m=n(179),h=n(12),p=new(function(e){Object(j.a)(n,e);var t=Object(v.a)(n);function n(){return Object(b.a)(this,n),t.call(this,"/v1/users")}return Object(f.a)(n,[{key:"getGroups",value:function(e){return h.a.get("".concat(this.apiName,"/group?parent_id=").concat(e))}}]),n}(m.a)),g=n(425),O=n(459),x=n(7),S=n(388),w=n(124),k=n(36),P=n(569),y=n(428),C=n(561),I=n(432),L=n(125),B=n(433),F=n(1),E={fullname:"",email:"",phone:"",position:"Staff",group_id:"",sub_group_id:"",role:"",password:c.a.internet.password()},R=function(e){var t=e.onSubmit,n=e.dataInitial,a=e.isLoading,r=e.isEdit,o=e.groups,i=e.roles,c=e.subGroups,l=e.onChangeGroup,d=e.onChangePosition,u=Object(k.a)(),b=Object(I.b)({initialValues:E,validationSchema:B.c({fullname:B.e().required("Partner is required"),email:B.e().email("Must be a valid email").max(255).required("Email is required"),phone:B.e().min(10,"Phone must be 10 characters").max(10,"Phone must be 10 characters").trim().required("Phone is required").matches(/^\d+$/,"Phone is not in correct format"),position:B.e().required("Position is required"),group_id:B.e().required("Group is required"),sub_group_id:B.e().required("Sub-Group is required"),role:B.e().required("Role is required")}),onSubmit:t,onReset:function(e){console.log(e)}});return Object(s.useEffect)((function(){n&&b.setValues(Object(x.a)(Object(x.a)({},b.values),n))}),[n]),Object(F.jsx)(F.Fragment,{children:Boolean(a)?Object(F.jsx)("div",{children:"Loading"}):Object(F.jsxs)("form",{onSubmit:function(e){b.handleSubmit(e),console.log(b.errors)},children:[Object(F.jsx)(C.a,{loading:b.isSubmitting}),Object(F.jsx)(L.a,{boxShadow:!0,shadow:"0px 4px 4px rgba(0, 0, 0, 0.05)",sx:{boxShadow:"0px 4px 4px rgba(0, 0, 0, 0.05)",border:"1px solid #E5E5E5 !important",mb:3},children:Object(F.jsxs)(S.a,{container:!0,spacing:2,children:[Object(F.jsx)(S.a,{item:!0,xs:12,children:Object(F.jsx)(w.a,{variant:"h3",sx:{color:u.palette.primary.main},children:Boolean(r)?"User Details - Edit":"Add New User"})}),Object(F.jsx)(S.a,{item:!0,xs:12,children:Object(F.jsxs)(S.a,{container:!0,spacing:2,children:[Object(F.jsx)(S.a,{item:!0,xs:12,md:4,children:Object(F.jsx)(y.a,{formik:b,title:"Full Name",name:"fullname"})}),Object(F.jsx)(S.a,{item:!0,xs:12,md:4,children:Object(F.jsx)(y.a,{formik:b,title:"Email",name:"email"})}),Object(F.jsx)(S.a,{item:!0,xs:12,md:4,children:Object(F.jsx)(y.a,{formik:b,title:"Phone",name:"phone"})}),Object(F.jsx)(S.a,{item:!0,xs:12,md:3,children:Object(F.jsx)(P.a,{formik:b,label:"Position",name:"position",dataSource:[{id:"Manager",name:"Manager"},{id:"Staff",name:"Staff"}],handleSelect:function(e){e&&(b.setFieldValue("position",e.id),b.setFieldValue("role",""),d(e))},selectProps:{notAllowSelectNull:!0,value:b.values.position}})}),Object(F.jsx)(S.a,{item:!0,xs:12,md:3,children:Object(F.jsx)(P.a,{formik:b,label:"Role",name:"role",dataSource:i,selectProps:{notAllowSelectNull:!0,value:b.values.role}})}),Object(F.jsx)(S.a,{item:!0,xs:12,md:3,children:Object(F.jsx)(P.a,{formik:b,label:"Group",name:"group_id",dataSource:o,handleSelect:function(e){e&&(b.setFieldValue("group_id",e.id),b.setFieldValue("sub_group_id",""),l(e))},selectProps:{notAllowSelectNull:!0,value:b.values.group_id}})}),Object(F.jsx)(S.a,{item:!0,xs:12,md:3,children:Object(F.jsx)(P.a,{formik:b,label:"Sub-Group",name:"sub_group_id",dataSource:c,selectProps:{notAllowSelectNull:!0,value:b.values.sub_group_id}})})]})})]})})]})})},M=["Partner Staff","Ticket Staff","Repayment Staff","Disbursement Staff"],q=["Partner","Ticket Manager","Repayment Manager","Disbursement Manager"],D=function(e){Object.assign({},e);var t=Object(u.f)(),n=Object(u.g)().partnerId,o=Object(s.useState)(!1),l=Object(r.a)(o,2),b=l[0],f=l[1],j=Object(s.useState)(null),v=Object(r.a)(j,2),m=v[0],h=v[1],x=Object(s.useState)(_.map(M,(function(e){return{id:e,name:e}}))),S=Object(r.a)(x,2),w=S[0],k=S[1],P=Object(d.useQuery)(["qGroupsQuery"],(function(){return p.getGroups(0)}),{keepPreviousData:!0,onError:function(e){g.a.toast("error",(null===e||void 0===e?void 0:e.message)||"Something went error !")},onSuccess:function(e){}}),y=Object(d.useQuery)(["qSubGroupsQuery",m],(function(){return m?p.getGroups(m):null}),{keepPreviousData:!0,onError:function(e){g.a.toast("error",(null===e||void 0===e?void 0:e.message)||"Something went error !")},onSuccess:function(e){}}),C=Object(d.useQuery)(["detail_data",n],(function(){return n?(f(!0),O.a.getById(n)):(f(!1),null)}),{keepPreviousData:!0,onError:function(e){g.a.toast("error",(null===e||void 0===e?void 0:e.message)||"Something went error !")},onSuccess:function(e){h(_.get(e,"data.data.group_id"))}}),I=function(){var e=Object(a.a)(i.a.mark((function e(n,r){var o;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{b||(console.log(n),p.insert(n).then((function(e){g.a.toast("success","Created new User"),r.resetForm(),t(-1)})).catch((function(e){g.a.toast("error","".concat(null===e||void 0===e?void 0:e.message," ").concat(_.map(e.details,(function(e){return"\n<i> - ".concat(e,"</i>")})))||"Something went error !")}))),b&&((o=_.pick(n,["id","email","code","name","presentative","pic_email","pic_phone","contract_number","contract_from","contract_to","sign_contract_date","phone","address","address2","ward","district","province"])).code=c.a.internet.password(),g.a.showConfirm({onConfirm:function(){var e=Object(a.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:O.a.updatePut(o).then((function(e){g.a.toast("success","Updated Partner"),C.refetch()})).catch((function(e){g.a.toast("error","".concat(null===e||void 0===e?void 0:e.message," ").concat(_.map(e.details,(function(e){return"\n<i> - ".concat(e,"</i>")})))||"Something went error !")}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()})),r.setStatus({success:!0}),r.setSubmitting(!1)}catch(s){console.error(s),r.setStatus({success:!1}),r.setSubmitting(!1)}case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(F.jsx)(R,{onSubmit:I,dataInitial:_.get(C,"data.data.data",null),onChangeGroup:function(e){h(e.id)},onChangePosition:function(e){switch(e.name){case"Staff":k(_.map(M,(function(e){return{id:e,name:e}})));break;case"Manager":k(_.map(q,(function(e){return{id:e,name:e}})))}},groups:_.get(P,"data.data.data",[]),subGroups:_.get(y,"data.data.data",[]),roles:w,isLoading:C.isLoading,isEdit:b})};t.default=l.a.memo(D)}}]);
//# sourceMappingURL=17.cb80c399.chunk.js.map